<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro</title>
  <link rel="stylesheet" href="/css/auth.css">
</head>
<body class="auth-page">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <h2>Crear Cuenta</h2>
      </div>
      <div class="auth-body">
        <% if (typeof errors !== 'undefined' && errors.length) { %>
          <div class="auth-error">
            <ul>
              <% errors.forEach(error => { %>
                <li><%= error %></li>
              <% }); %>
            </ul>
          </div>
        <% } %>
        <form action="/auth/register" method="POST" class="auth-form">
          <div class="form-group">
            <label for="name">Nombre Completo</label>
            <input type="text" id="name" name="name" value="<%= typeof formData !== 'undefined' ? formData.name : '' %>" required>
          </div>
          <div class="form-group">
            <label for="cedula">Cedula</label>
            <input type="text" id="cedula" name="cedula" value="<%= typeof formData !== 'undefined' ? formData.cedula : '' %>" required>
          </div>
          <div class="form-group">
            <label for="telefono">Telefono</label>
            <input type="text" id="telefono" name="telefono" value="<%= typeof formData !== 'undefined' ? formData.telefono : '' %>" required>
          </div>
          <div class="form-group">
            <label for="email">Correo Electrónico</label>
            <input type="email" id="email" name="email" value="<%= typeof formData !== 'undefined' ? formData.email : '' %>" required>
          </div>
          <div class="form-group">
            <label for="username">Nombre de Usuario</label>
            <input type="text" id="username" name="username" value="<%= typeof formData !== 'undefined' ? formData.username : '' %>" required>
          </div>
          <div class="form-group">
            <label for="password">Contraseña</label>
            <input type="password" id="password" name="password" required>
          </div>
          <div class="form-group">
            <label for="role">Rol</label>
            <select id="role" name="role" required>
              <option value="user" <%= typeof formData !== 'undefined' && formData.role === 'user' ? 'selected' : '' %>>Usuario Normal</option>
              <option value="tecnico" <%= typeof formData !== 'undefined' && formData.role === 'tecnico' ? 'selected' : '' %>>Técnico</option>
              <option value="administrador" <%= typeof formData !== 'undefined' && formData.role === 'administrador' ? 'selected' : '' %>>Administrador</option>
              <option value="gerente" <%= typeof formData !== 'undefined' && formData.role === 'gerente' ? 'selected' : '' %>>Gerente</option>
            </select>
          </div>
          <button type="submit" class="auth-button">Registrar Usuario</button>
        </form>
      </div>
    </div>
  </div>
</body>
</html>